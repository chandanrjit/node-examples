'use strict';
const helpers = require('helpers')
const console = require('console')

module.exports = function fakeDB(seed) {
    return {
        get: (name) => {
            console.log(`>> fetching ${name}`)
            return helpers.delay(5).then(() => {
                const found = seed.indexOf(name) !== -1
                console.log(`>> got ${name} ${found}`)
                if (found) {
                    return `${name} success!`
                } else {
                    throw Error(`${name} failed`)
                }
            })
        }
    }
}
