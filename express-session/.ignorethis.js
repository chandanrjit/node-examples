!function(a,b){function c(b,d){var e,f;if("."!=b[0]&&"/"!=b[0])return a(b);if(d=d||"root",e=c.resolve(b),!e&&/\.json$/i.test(b))return a("./"+c.basename(b));if(f=c.cache[e],!f)try{return a(b)}catch(g){throw Error('failed to require "'+b+'" from '+d+"\n"+g.message+"\n"+g.stack)}return f.exports||(f.exports={},f.call(f.exports,f,f.exports,c.relative(e))),f.exports}c.cache={},c.basename=a("path").basename,c.resolve=function(b){var d,e,f,g;if("."!=b[0])return a.resolve(b);for(d="/"===b.slice(-1)?b:b+"/",e=[b,b+".js",d+"index.js",b+".json",d+"index.json"],f=0;g=e[f];f++)if(c.cache[g])return g},c.register=function(a,b){c.cache[a]=b},c.relative=function(a){function b(b){var d,e,f,g,h;if("."!=b[0])return c(b);for(d=a.split("/"),e=b.split("/"),d.pop(),f=0,g=e.length;g>f;f+=1)h=e[f],".."==h?d.pop():"."!=h&&d.push(h);return c(d.join("/"),a)}return b.resolve=c.resolve,b.cache=c.cache,b},c.register("./app.js",function(a,b,c){function g(a,b,c){return console.log(a.cookies),a.cookies.ssid&&a.cookies.ssid.match(/\./)?c():void b.status(401).end()}var d=c("express"),e=c("cookie-parser"),f=c("body-parser"),h=d();h.use(e()),h.use("/",d["static"]("pages/public")),h.use("/private",g),h.use("/private",d["static"]("pages/private")),h.post("/login",f.urlencoded(),function(a,b){b.cookie("ssid",Math.random().toFixed(20),{httpOnly:!0}),b.redirect("/private")}),h.listen(1337),a.exports=h}),b.exports=c("./app.js")}(require,module);
